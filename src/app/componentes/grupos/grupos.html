<div class="grupos-container">
    <h2 class="titulo-grupos">Gesti贸n de Grupos</h2>
    <form class="grupo-form" (ngSubmit)="grupoEditando ? guardarEdicion() : agregarGrupo()">
        <div class="inputs-flex">
            <div class="input-group">
                <label for="nombreGrupo">Nombre del grupo</label>
                <input id="nombreGrupo" type="text" [(ngModel)]="nuevoGrupo.nombre" name="nombre"
                    placeholder="Nombre del grupo" required class="input-grupo" />
            </div>
            <div class="input-group">
                <label for="divisionGrupo">Divisi贸n</label>
                <input id="divisionGrupo" type="text" [(ngModel)]="nuevoGrupo.division" name="division"
                    placeholder="Divisi贸n" required class="input-grupo" />
            </div>
            <div class="input-group">
                <label for="gradoGrupo">Grado/Cuatrimestre</label>
                <input id="gradoGrupo" type="number" [(ngModel)]="nuevoGrupo.grado" name="grado"
                    placeholder="Grado/Cuatrimestre" min="1" max="12" required class="input-grupo" />
            </div>
            <div class="input-group">
                <label for="carreraGrupo">Carrera</label>
                <select id="carreraGrupo" [(ngModel)]="nuevoGrupo.carrera" name="carrera" required class="input-grupo">
                    <option value="" disabled selected>Selecciona una carrera</option>
                    <option *ngFor="let carrera of carreras" [value]="carrera.nombre">{{ carrera.nombre }}</option>
                </select>
            </div>
            <div class="input-group" style="align-self: end; display: flex; gap: 8px;">
                <button type="submit" class="btn-guardar">{{ grupoEditando ? 'Guardar' : 'Agregar' }}</button>
                <button type="button" *ngIf="grupoEditando" (click)="cancelarEdicion()"
                    class="btn-cancelar">Cancelar</button>
            </div>
        </div>
    </form>

    <table class="tabla-grupos">
        <thead>
            <tr>
                <th>#</th>
                <th>Nombre</th>
                <th>Divisi贸n</th>
                <th>Grado</th>
                <th>Carrera</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let grupo of grupos; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ grupo.nombre }}</td>
                <td>{{ grupo.division }}</td>
                <td>{{ grupo.grado }}</td>
                <td>{{ grupo.carrera }}</td>
                <td>
                    <button class="btn-editar" (click)="editarGrupo(grupo)">Editar</button>
                    <button class="btn-eliminar" (click)="eliminarGrupo(grupo.id)">Eliminar</button>
                </td>
            </tr>
            <tr *ngIf="grupos.length === 0">
                <td colspan="6">No hay grupos registrados.</td>
            </tr>
        </tbody>
    </table>
</div>